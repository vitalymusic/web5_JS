<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Nav</title>

<style>
*{
    box-sizing: border-box;
}

body{
    margin:0;
    padding:0;
}

/* NAV */
nav{
    background: blue;
    padding:10px;
    position: relative;
}

.nav-items{
    display:flex;
    justify-content:center;
    gap:20px;
}

.nav-item{
    position:relative;
}

nav a{
    color:white;
    text-decoration:none;
}

nav button{
    display:none;
}

/* SUBNAV */
.subnav{
    position:absolute;
    top:40px;
    left:0;
    background:aqua;
    padding:20px;
    display:none;
    flex-direction:column;
    gap:12px;
    z-index:10;
}

.subnav a{
    color:black;
}

.items_shown{
    display:flex !important;
}

/* MOBILE */
@media (max-width:768px){
    .nav-items{
        flex-direction:column;
        display:none;
    }

    nav button{
        display:block;
    }
}
</style>
</head>

<body>

<nav>
    <button id="menuBtn">Menu</button>

    <div class="nav-items" id="navItems">
        <div class="nav-item">
            <a href="#" data-sub="subnav1">Galvenā</a>
            <div class="subnav" id="subnav1">
                <a href="#">Viens</a>
                <a href="#">Divi</a>
                <a href="#">Trīs</a>
            </div>
        </div>

        <div class="nav-item">
            <a href="#" data-sub="subnav2">Par mums</a>
            <div class="subnav" id="subnav2">
                <a href="#">Četri</a>
                <a href="#">Pieci</a>
                <a href="#">Seši</a>
            </div>
        </div>

        <div class="nav-item">
            <a href="#">Kontakti</a>
        </div>
    </div>
</nav>

<script>
const menuBtn = document.querySelector('#menuBtn');
const navItems = document.querySelector('#navItems');
const subnavLinks = document.querySelectorAll('[data-sub]');

// mobile menu toggle
menuBtn.addEventListener('click', (e)=>{
    e.stopPropagation();
    navItems.classList.toggle('items_shown');
});

// hide all subnavs
function hideAllSubnavs(){
    document.querySelectorAll('.subnav').forEach(el => {
        el.classList.remove('items_shown');
    });
}

// open specific subnav
subnavLinks.forEach(link => {
    link.addEventListener('click', (e)=>{
        e.preventDefault();
        e.stopPropagation();

        const id = link.dataset.sub;
        const sub = document.getElementById(id);

        const isOpen = sub.classList.contains('items_shown');
        hideAllSubnavs();

        if(!isOpen){
            sub.classList.add('items_shown');
        }
    });
});

// click outside → close everything
document.addEventListener('click', (e)=>{
    if(!e.target.closest('nav')){
        hideAllSubnavs();
        navItems.classList.remove('items_shown');
    }
});
</script>

</body>
</html>
